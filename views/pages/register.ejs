<!-- header -->
<%- include('../layout/header',{route:'register'}) %>

<!-- main content -->
<div class="container">
  <div class="nav justify-content-center mt-4">
    <a href="/" class="link">
      <img
        class="img-fluid"
        style="max-width: 120px"
        src="/images/logo.png"
        alt="Alizon"
      />
    </a>
  </div>
  <%- include("../partials/message") -%>
  <div class="w-50 mt-5 mx-auto">
    <div class="p-3 m-2 border rounded" id="myCard">
      <h1 class="text-center mb-3">
        <i class="fas fa-user-plus"></i> Register
      </h1>
      <div class="error-wrapper"></div>
      <%- include('../partials/message') %>
      <form
        action="/user/register"
        name="register"
        method="POST"
        onsubmit="return vaidation()"
      >
        <div class="form-row">
          <div class="form-group col-sm-12 col-md-6">
            <label for="name">First Name:</label>
            <input
              type="text"
              id="fname"
              name="fname"
              class="form-control"
              placeholder="your first name"
              required
              value="<%= typeof fname != 'undefined' ? fname : '' %>"
            />
          </div>
          <div class="form-group col-sm-12 col-md-6">
            <label for="name">Last Name:</label>
            <input
              type="text"
              id="lname"
              name="lname"
              class="form-control"
              placeholder="your last name"
              required
              value="<%= typeof lname != 'undefined' ? lname : '' %>"
            />
          </div>
        </div>
        <div class="form-group">
          <label for="email">Mobile Number</label>
          <input
            type="text"
            id="mobile"
            name="mobile"
            class="form-control"
            required
            placeholder="your mobile number"
            value="<%= typeof mobile != 'undefined' ? mobile : '' %>"
          />
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            id="emailAddress"
            name="email"
            class="form-control"
            required
            placeholder="your email address"
            value="<%= typeof email != 'undefined' ? email : '' %>"
          />
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input
            type="password"
            id="password1"
            name="password1"
            required
            class="form-control"
            placeholder="Create Password"
            value="<%= typeof password != 'undefined' ? password : '' %>"
          />
        </div>
        <div class="form-group">
          <label for="password2">Confirm Password</label>
          <input
            type="password"
            id="password2"
            name="password2"
            required
            class="form-control"
            placeholder="Confirm Password"
            value="<%= typeof password2 != 'undefined' ? password2 : '' %>"
          />
        </div>
        <button type="submit" class="btn btn-primary btn-block w-50">
          Register
        </button>
      </form>
      <p class="lead mt-4">Have An Account? <a href="/user/login">Login</a></p>
    </div>
  </div>
</div>

<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/validator/13.1.0/validator.min.js"></script>
<script>
  function vaidation() {
    let error_wrapper = document.querySelector(".error-wrapper");
    let email = document.getElementById("emailAddress").value;
    let mobile = document.getElementById("mobile").value;
    let errors = [];
    if (!validator.isEmail(email)) {
      errors.push("Please enter a valid email address");
    }
    if (!validator.isMobilePhone(mobile, "bn-BD")) {
      errors.push("Please enter a valid Mobile Number");
    }

    if (errors.length === 0) {
      return true;
    } else {
      error_wrapper.innerHTML = "";
      errors.forEach((error) => {
        var err_msg = document.createElement("div");
        err_msg.classList = "alert alert-warning alert-dismissible";
        err_msg.setAttribute("role", "alert");
        err_msg.innerHTML = `${error}.
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                   <span aria-hidden="true">&times;</span>
                </button>`;
        error_wrapper.appendChild(err_msg);
      });
      return false;
    }
  }
</script> -->
<!-- footer -->
<%- include('../layout/footer',{route:'register'}) %>
